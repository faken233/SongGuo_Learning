"use strict";(self["webpackChunkworkspace"]=self["webpackChunkworkspace"]||[]).push([[969],{2969:function(e,t,s){s.r(t),s.d(t,{default:function(){return Q}});var a=function(){var e=this,t=e._self._c;return t("div",[t("el-page-header",{attrs:{content:"学习页面"},on:{back:e.goBack}}),t("el-descriptions",{attrs:{title:"课程信息"}},[t("el-descriptions-item",{attrs:{label:"课程ID"}},[e._v(e._s(this.course.courseID))]),t("el-descriptions-item",{attrs:{label:"课程名字"}},[e._v(e._s(this.course.courseName))]),t("el-descriptions-item",{attrs:{label:"课程描述"}},[e._v(e._s(this.course.description))])],1),t("div",[t("el-collapse",{model:{value:e.activeChapters,callback:function(t){e.activeChapters=t},expression:"activeChapters"}},e._l(e.chapters,(function(e,s){return t("el-collapse-item",{key:s,attrs:{title:e.chapterName,name:s}},[t("show_chapter_info",{attrs:{chapter:e}})],1)})),1)],1),t("h1",[e._v("讨论区")]),t("div",{staticClass:"discussion"},e._l(e.replies,(function(s,a){return t("div",{key:a,staticClass:"message"},[t("div",{staticClass:"user-info"},[e.isTeacher(s.replierID)?t("span",{staticClass:"teacherName"},[e._v(e._s(s.replierName))]):e._e(),e.isStudent(s.replierID)?t("span",{staticClass:"studentName"},[e._v(e._s(s.replierName))]):e._e(),t("span",{staticClass:"time"},[e._v(e._s(e.formatReplyDateTime(s.replyDateTime)))])]),t("div",{staticClass:"content"},[e._v(" "+e._s(s.content)+" ")])])})),0),t("el-pagination",{attrs:{"current-page":e.currentPage1,"page-sizes":[5,10,15],"page-size":e.pageSize1,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange1,"current-change":e.handlePageChange1}}),t("el-form",{attrs:{inline:!0,model:e.newReply}},[t("el-form-item",{attrs:{label:"评论"}},[t("el-input",{attrs:{type:"textarea",placeholder:"输入评论"},model:{value:e.newReply.content,callback:function(t){e.$set(e.newReply,"content",t)},expression:"newReply.content"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.submitNewReply}},[e._v("发送评论")])],1)],1)],1)},n=[],r=(s(4114),s(8355)),o=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticClass:"box-card"},[t("div",[e._v(" "+e._s(this.chapter.content)+" ")])]),t("br"),t("p",[e._v("题目:")]),t("br"),e._l(e.questions,(function(s,a){return t("div",{key:a,staticClass:"containerOfComponents"},[t(e.getQuestionComponent(s.type),{tag:"component",attrs:{question:s,index:a},on:{super_submit_answer:e.saveAnswers}}),t("br")],1)})),e.noticeVisible?t("div",[e._v("您已完成此章节, 已关闭答案提交, 你的答题情况为: 正确率: "+e._s(e.percentage)+" ")]):e._e(),t("el-button",{attrs:{disabled:e.isSubmitted()},on:{click:e.submitChapterQuestionsAnswers}},[e._v("提交答案")])],2)},i=[],l=function(){var e=this,t=e._self._c;return t("div",[t("el-col",{attrs:{span:8}},[t("el-card",{attrs:{shadow:"hover"}},[t("div",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.index+1)+": 判断题")]),t("p",[e._v(e._s(e.question.content))]),t("el-radio",{attrs:{label:"true"},model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}},[e._v("对")]),t("el-radio",{attrs:{label:"false"},model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}},[e._v("错")]),t("el-button",{attrs:{type:"primary",round:""},on:{click:e.submitAnAnswer}},[e._v("确认")])],1)],1),t("br")],1)},c=[],u={props:{question:Object,index:Number},data(){return{answer:""}},methods:{submitAnAnswer(){this.$emit("super_submit_answer",{type:5,index:this.index,questionID:this.question.questionID,answer:this.answer})}}},p=u,h=s(1656),d=(0,h.A)(p,l,c,!1,null,null,null),g=d.exports,m=function(){var e=this,t=e._self._c;return t("div",[t("el-col",{attrs:{span:8}},[t("el-card",{attrs:{shadow:"hover"}},[t("div",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.index+1)+": 选择题")]),t("p",[e._v(e._s(e.question.content))]),t("p",[e._v(e._s(e.question.options))]),t("el-input",{attrs:{placeholder:"请输入答案索引"},model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}}),t("el-button",{attrs:{type:"primary",round:""},on:{click:e.submitAnAnswer}},[e._v("确认")])],1)],1),t("br")],1)},_=[],v={props:{question:Object,index:Number},data(){return{answer:""}},methods:{submitAnAnswer(){this.$emit("super_submit_answer",{type:6,index:this.index,questionID:this.question.questionID,answer:this.answer})}}},w=v,b=(0,h.A)(w,m,_,!1,null,null,null),f=b.exports,y=function(){var e=this,t=e._self._c;return t("div",[t("el-col",{attrs:{span:8}},[t("el-card",{attrs:{shadow:"hover"}},[t("div",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.index+1)+": 简答题")]),t("p",[e._v(e._s(e.question.content))]),t("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}}),t("el-button",{attrs:{type:"primary",round:""},on:{click:e.submitAnAnswer}},[e._v("确认")])],1)],1),t("br")],1)},I=[],D={props:{question:Object,index:Number},data(){return{answer:""}},methods:{submitAnAnswer(){this.$emit("super_submit_answer",{type:7,index:this.index,questionID:this.question.questionID,answer:this.answer})}}},k=D,C=(0,h.A)(k,y,I,!1,null,null,null),S=C.exports,A={components:{TrueFalseQuestion:g,MultipleChoiceQuestion:f,ShortAnswerQuestion:S},props:{chapter:Object},data(){return{noticeVisible:!1,studentID:localStorage.getItem("id"),questions:[],progress:{},answers:[]}},computed:{percentage(){return(100*this.progress.accuracy).toFixed(2)+"%"}},methods:{isSubmitted(){return console.log(this.progress),console.log(this.questions),void 0!==this.progress},getQuestionComponent(e){switch(e){case 5:return"TrueFalseQuestion";case 6:return"MultipleChoiceQuestion";case 7:return"ShortAnswerQuestion";default:return"div"}},saveAnswers(e){console.log(e);let t=e.index;delete e.index,e.studentID=localStorage.getItem("id"),this.$set(this.answers,t,e)},submitChapterQuestionsAnswers(){r.A.post("http://localhost:8080/SongGuo_Learning/student/checkChapterAnswers?chapterID="+this.chapter.chapterID,this.answers,{headers:{Token:localStorage.getItem("token")}}).then((e=>{console.log(e.data),this.progress=e.data.data,this.$notify.success({title:"提交成功",message:"您已成功提交章节答题数据, 刷新页面以查看正确率"})}))}},mounted(){r.A.get("http://localhost:8080/SongGuo_Learning/teacher/getChapterQuestions?chapterID="+this.chapter.chapterID,{headers:{Token:localStorage.getItem("token")}}).then((e=>{console.log(e.data),this.questions=e.data.data,console.log(this.questions)})),r.A.get("http://localhost:8080/SongGuo_Learning/student/getChapterLearningProgress?studentID="+this.studentID+"&chapterID="+this.chapter.chapterID,{headers:{Token:localStorage.getItem("token")}}).then((e=>{console.log(e.data),this.progress=e.data.data,console.log("give: progress"),console.log(this.progress),null!=this.progress&&(this.noticeVisible=!0)}))}},x=A,q=(0,h.A)(x,o,i,!1,null,"fa4a60bc",null),R=q.exports,T={components:{show_chapter_info:R},data(){let e=this.$route.query,t=e.courseID;return{activeChapters:[],course:e,courseID:t,chapters:[],replies:[],currentPage1:1,pageSize1:5,total1:100,newReply:{replierID:localStorage.getItem("id"),replierName:localStorage.getItem("name"),content:"",replyDateTime:"",courseID:t}}},methods:{goBack(){this.$router.push("/student_homepage_personal_info")},handleSizeChange1(e){this.pageSize1=e,this.getReplyData()},handlePageChange1(e){this.currentPage1=e,this.getReplyData()},formatReplyDateTime(e){const t=new Date(e);return t.toLocaleString()},isTeacher(e){return"1"===e.toString().charAt(0)},isStudent(e){return"2"===e.toString().charAt(0)},getReplyData(){r.A.get("http://localhost:8080/SongGuo_Learning/discussion/getCourseReplies?courseID="+this.courseID+"&pageSize="+this.pageSize1+"&currentPage="+this.currentPage1,{headers:{Token:localStorage.getItem("token")}}).then((e=>{console.log(e.data),this.replies=e.data.data}))},submitNewReply(){r.A.post("http://localhost:8080/SongGuo_Learning/discussion/addReplyToCourse",this.newReply,{headers:{Token:localStorage.getItem("token")}}).then((e=>{console.log(e.data),this.$notify.success({title:"发送成功",message:"您已成功发送一条评论"})}))}},mounted(){r.A.get("http://localhost:8080/SongGuo_Learning/teacher/selectCourseChaptersByCourseID?courseID="+this.courseID,{headers:{Token:localStorage.getItem("token")}}).then((e=>{"TOKEN_IS_NULL"!=e.data.message?(console.log(e.data),this.chapters=e.data.data):this.$router.push("/studentlogin")})),this.getReplyData()}},N=T,z=(0,h.A)(N,a,n,!1,null,"1f28509c",null),Q=z.exports}}]);
//# sourceMappingURL=969.d4300f2a.js.map